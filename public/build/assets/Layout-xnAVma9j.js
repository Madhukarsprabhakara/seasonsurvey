import{o as openBlock,d as createElementBlock,a as createBaseVNode,T,s as onMounted,Q,b as createVNode,h as withModifiers,F as Fragment,g as renderList,u as unref,f as createTextVNode,c as createBlock,e as createCommentVNode,Y as resolveDynamicComponent}from"./app-CkDp-D9b.js";import"./vuedraggable.umd-TsIiJKnN.js";import _sfc_main$1 from"./LanguageSelection-VlaOq6Oc.js";import Title from"./Title-CSKh4b-x.js";import _sfc_main$3 from"./CommentField-D16L6g4_.js";import _sfc_main$2 from"./NumericBox-BDM1wG5H.js";import _sfc_main$4 from"./RadioHorizontal-CYVElD-f.js";import _sfc_main$5 from"./Attachment-BuJix_1O.js";import _sfc_main$6 from"./TextBox-DVpYM2J6.js";import _sfc_main$7 from"./EmailAddress-kYEHO3wf.js";import{u as useSurveyStore}from"./surveyStore-Bss_1bCU.js";import{_ as _sfc_main$8}from"./InputError-7ogYoblU.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";function render(o,t){return openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[createBaseVNode("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm3.857-9.809a.75.75 0 0 0-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 1 0-1.06 1.061l2.5 2.5a.75.75 0 0 0 1.137-.089l4-5.5Z","clip-rule":"evenodd"})])}const _hoisted_1={class:"bg-sky-100 h-full py-12"},_hoisted_2={class:"max-w-5xl mx-auto sm:px-6 lg:px-8"},_hoisted_3={class:"bg-white border-2 sm:rounded-lg"},_hoisted_4={class:"max-w-4xl mt-4 ml-4 mr-4 py-4"},_hoisted_5={key:0},_hoisted_6={key:0},_hoisted_7={key:1},_hoisted_8=["disabled"],_sfc_main={__name:"Layout",setup(__props){const store=useSurveyStore(),componentMap={Numericbox:_sfc_main$2,Commentfield:_sfc_main$3,Radiohorizontal:_sfc_main$4,Attachment:_sfc_main$5,Textbox:_sfc_main$6,Emailaddress:_sfc_main$7};function submit(){store.form.post("/storesurvey",{preserveScroll:!0,_method:"put"})}store.form=T(store.fields),onMounted(()=>{for(let o of Q().props.event.pages)for(let t of o.question_ids)t.question&&(t.question.conditional_logic||store.addFormFields("a_"+t.question.id,""))});function evaluateExpression(expression,store){const truthCondt=Function('"use strict";return ('+expression+")")().rule;return eval(truthCondt)}return(o,t)=>(openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[createBaseVNode("div",_hoisted_3,[createVNode(_sfc_main$1),createVNode(Title),createBaseVNode("div",_hoisted_4,[createBaseVNode("form",{onSubmit:withModifiers(submit,["prevent"])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.$page.props.event.pages,s=>(openBlock(),createElementBlock("div",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.question_ids,e=>(openBlock(),createElementBlock("div",null,[e.question?(openBlock(),createElementBlock("div",_hoisted_5,[e.question.conditional_logic?(openBlock(),createElementBlock("div",_hoisted_6,[evaluateExpression(e.question.conditional_logic,unref(store))?(openBlock(),createBlock(resolveDynamicComponent(componentMap[e.question.question_type.html_code]),{qid:e.question,key:e.question.question_uuid},null,8,["qid"])):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_7,[(openBlock(),createBlock(resolveDynamicComponent(componentMap[e.question.question_type.html_code]),{qid:e.question,key:e.question.question_uuid},null,8,["qid"]))]))])):createCommentVNode("",!0)]))),256))]))),256)),createBaseVNode("button",{type:"submit",disabled:unref(store).form.processing,class:"inline-flex items-center gap-x-1.5 rounded-md bg-teal-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-teal-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-teal-600"},[createTextVNode(" Submit "),createVNode(unref(render),{class:"-mr-0.5 h-5 w-5","aria-hidden":"true"})],8,_hoisted_8)],32),JSON.stringify(o.$page.props.errors)!=="{}"?(openBlock(),createBlock(_sfc_main$8,{key:0,message:"Please correct the errors mentioned above.",class:"mt-2"})):createCommentVNode("",!0)])])])]))}};export{_sfc_main as default};
